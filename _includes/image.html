{% comment %}
  Image Widget
  Usage:
    {% include image.html src="/images/photo.jpg" alt="Description" caption="Photo caption" %}
    {% include image.html imgur="abc123" alt="Description" %}
  
  Parameters:
    - src: Image source path (local or URL)
    - imgur: Imgur image ID (without the full URL)
    - alt: Alt text for the image
    - caption: Optional caption text
    - max-width: Optional max-width CSS value
    - max-height: Optional max-height CSS value
{% endcomment %}

<figure class="post-image">
  {% if include.imgur %}
    <img src="https://i.imgur.com/{{ include.imgur }}" 
         alt="{{ include.alt | default: '' }}" 
         {% if include.max-width %} width="{{ include.max-width }}"{% endif %}
         {% if include.max-height %} height="{{ include.max-height }}"{% endif %}
         loading="lazy" />
  {% elsif include.src %}
    <img src="{{ include.src }}" 
         alt="{{ include.alt | default: '' }}" 
         {% if include.max-width %} width="{{ include.max-width }}"{% endif %}
         {% if include.max-height %} height="{{ include.max-height }}"{% endif %}
         loading="lazy" />
  {% endif %}

  {% if include.caption %}
    <figcaption>{{ include.caption }}</figcaption>
  {% endif %}
</figure>